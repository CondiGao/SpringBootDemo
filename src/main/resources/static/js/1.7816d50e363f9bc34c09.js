webpackJsonp([1],{"2ZEU":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("mvHQ"),s=t.n(o),n=t("zL8q"),a={data:function(){return{ruleForm:{username:"",password:""},rules:{username:[{validator:function(e,r,t){if(!r)return t(new Error("用户名不能为空"));t()},trigger:"blur"}],password:[{validator:function(e,r,t){if(!r)return t(new Error("密码不能为空"));t()},trigger:"blur"}]}}},methods:{submit:function(e){var r=this,t=this;this.$refs[e].validate(function(e){if(!e)return alert("error submit"),!1;t.$http({url:"http://120.24.5.178:8100/user/login",method:"POST",body:s()({username:r.ruleForm.username,password:r.ruleForm.password}),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.data),0==e.data.code?(alert("success"),this.$router.push({name:"list"}),console.log(e.data)):-2==e.data.code?n.Message.warning("用户名已存在，请登录"):n.Message.warning("用户名或者密码错误")},function(){alert(" 登录失败")})})},redirect:function(){this.$router.push({name:"register"})}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticStyle:{width:"50%","margin-left":"25%"}},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{ref:"username",attrs:{type:"text",placeholder:"用户名","auto-complete":"off"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{ref:"password",attrs:{type:"password",placeholder:"密码","auto-complete":"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-button",{on:{click:e.redirect}},[e._v("注册")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submit("ruleForm")}}},[e._v("登录")])],1)],1)},staticRenderFns:[]},u=t("VU/8")(a,l,!1,null,null,null);r.default=u.exports},mvHQ:function(e,r,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,r,t){var o=t("FeBl"),s=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}}});
//# sourceMappingURL=1.7816d50e363f9bc34c09.js.map